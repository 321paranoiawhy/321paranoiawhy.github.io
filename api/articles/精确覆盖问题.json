{"title":"精确覆盖问题","uid":"1001f33dad10400ea5f367d8a08e122a","slug":"精确覆盖问题","date":"2022-04-12T09:10:46.000Z","updated":"2022-04-12T09:12:34.442Z","comments":true,"path":"api/articles/精确覆盖问题.json","keywords":null,"cover":null,"content":"<hr>\n<h1 id=\"精确覆盖问题\"><a href=\"#精确覆盖问题\" class=\"headerlink\" title=\"精确覆盖问题\"></a>精确覆盖问题</h1><p><a href=\"https://en.wikipedia.org/wiki/Exact_cover\">Exact cover wiki</a></p>\n<p><a href=\"https://oi-wiki.org/search/dlx/#_1\">Dancing Links OI Wiki</a></p>\n<p><a href=\"https://www.ocf.berkeley.edu/~jchu/publicportal/sudoku/sudoku.paper.html\">A Sudoku Solver in Java implementing Knuth’s Dancing Links Algorithm</a></p>\n<hr>\n<h1 id=\"数独规则回顾\"><a href=\"#数独规则回顾\" class=\"headerlink\" title=\"数独规则回顾\"></a>数独规则回顾</h1><ul>\n<li>每个格子只能填入 <code>1 ~ 9</code> 中的一个数字;</li>\n<li>每行 <code>1 ~ 9</code> 中的每个数字只能出现一次;</li>\n<li>每列 <code>1 ~ 9</code> 中的每个数字只能出现一次;</li>\n<li>每宫 <code>1 ~ 9</code> 中的每个数字只能出现一次。</li>\n</ul>\n<hr>\n<h1 id=\"矩阵列定义-约束条件\"><a href=\"#矩阵列定义-约束条件\" class=\"headerlink\" title=\"矩阵列定义 (约束条件)\"></a>矩阵列定义 (约束条件)</h1><p>将矩阵的每一列均定义为一个约束条件。</p>\n<hr>\n<h2 id=\"第-1-81-列\"><a href=\"#第-1-81-列\" class=\"headerlink\" title=\"第 1 ~ 81 列\"></a>第 <code>1 ~ 81</code> 列</h2><p><code>9 x 9</code> 的数独一共有 <code>81</code> 个格子, 于是定义对应的 <code>81</code> 列:</p>\n<p>第 <code>1</code> 列表示数独第 <code>1</code> 行第 <code>1</code> 列 <code>(1, 1)</code> 处填入了一个数字;</p>\n<p>第 <code>2</code> 列表示数独第 <code>1</code> 行第 <code>2</code> 列 <code>(1, 2)</code> 处填入了一个数字;</p>\n<p>第 <code>3</code> 列表示数独第 <code>1</code> 行第 <code>3</code> 列 <code>(1, 3)</code> 处填入了一个数字;</p>\n<p>……</p>\n<p>第 <code>9</code> 列表示数独第 <code>1</code> 行第 <code>9</code> 列 <code>(1, 9</code>) 处填入了一个数字;</p>\n<p>第 <code>10</code> 列表示数独第 <code>2</code> 行第 <code>1</code> 列 <code>(2, 1)</code> 处填入了一个数字;</p>\n<p>第 <code>11</code> 列表示数独第 <code>2</code> 行第 <code>2</code> 列 <code>(2, 2)</code> 处填入了一个数字;</p>\n<p>……</p>\n<p>第 <code>18</code> 列表示数独第 <code>2</code> 行第 <code>9</code> 列 <code>(2, 9)</code> 处填入了一个数字;</p>\n<p>……</p>\n<p>第 <code>81</code> 列表示数独第 <code>9</code> 行第 <code>9</code> 列 <code>(9, 9)</code> 处填入了一个数字;</p>\n<p>此即: 第 <code>N(1 ~ 81)</code> 列表示数独第 <code>X</code> 行第 <code>Y</code> 列 <code>(X, Y)</code> 处填入了一个数字, 其中:</p>\n<pre class=\"line-numbers language-JavaScript\" data-language=\"JavaScript\"><code class=\"language-JavaScript\">X &#x3D; Math.floor((N - 1) &#x2F; 9) + 1;\nY &#x3D;(N - 1) % 9 + 1;\nN &#x3D; (X - 1) * 9 + Y;</code></pre>\n\n<hr>\n<h2 id=\"第-82-2-x-81-162-列\"><a href=\"#第-82-2-x-81-162-列\" class=\"headerlink\" title=\"第 82 ~ 2 x 81(162) 列\"></a>第 <code>82 ~ 2 x 81(162)</code> 列</h2><p>第 <code>82</code> 列表示数独第 <code>1</code> 行填入了数字 <code>1</code>;</p>\n<p>第 <code>83</code> 列表示数独第 <code>1</code> 行填入了数字 <code>2</code>;</p>\n<p>第 <code>84</code> 列表示数独第 <code>1</code> 行填入了数字 <code>3</code>;</p>\n<p>……</p>\n<p>第 <code>90</code> 列表示数独第 <code>1</code> 行填入了数字 <code>9</code>;</p>\n<p>第 <code>91</code> 列表示数独第 <code>2</code> 行填入了数字 <code>1</code>;</p>\n<p>第 <code>92</code> 列表示数独第 <code>2</code> 行填入了数字 <code>2</code>;</p>\n<p>……</p>\n<p>第 <code>99</code> 列表示数独第 <code>2</code> 行填入了数字 <code>9</code>;</p>\n<p>……</p>\n<p>第 <code>162</code> 列表示数独第 <code>9</code> 行填入了数字 <code>9</code>;</p>\n<p>此即: 第 <code>N(82 ~ 162)</code> 列表示数独第 <code>X(1 ~ 9)</code> 行填入了数字 <code>Y(1 ~ 9)</code>, 其中:</p>\n<pre class=\"line-numbers language-JavaScript\" data-language=\"JavaScript\"><code class=\"language-JavaScript\">&#x2F;&#x2F; N -&gt; N - 81\nX &#x3D; Math.floor((N - 81 - 1) &#x2F; 9) + 1;\nY &#x3D;(N - 81 - 1) % 9 + 1;\nN - 81 &#x3D; (X - 1) * 9 + Y;</code></pre>\n\n<hr>\n<h2 id=\"第-163-3-x-81-243-列\"><a href=\"#第-163-3-x-81-243-列\" class=\"headerlink\" title=\"第 163 ~ 3 x 81(243) 列\"></a>第 <code>163 ~ 3 x 81(243)</code> 列</h2><p>第 <code>163</code> 列表示数独第 <code>1</code> 列填入了数字 <code>1</code>;</p>\n<p>第 <code>164</code> 列表示数独第 <code>1</code> 列填入了数字 <code>2</code>;</p>\n<p>第 <code>165</code> 列表示数独第 <code>1</code> 列填入了数字 <code>3</code>;</p>\n<p>……</p>\n<p>第 <code>171</code> 列表示数独第 <code>1</code> 列填入了数字 <code>9</code>;</p>\n<p>第 <code>172</code> 列表示数独第 <code>2</code> 列填入了数字 <code>1</code>;</p>\n<p>第 <code>173</code> 列表示数独第 <code>2</code> 列填入了数字 <code>2</code>;</p>\n<p>……</p>\n<p>第 <code>180</code> 列表示数独第 <code>2</code> 列填入了数字 <code>9</code>;</p>\n<p>……</p>\n<p>第 <code>243</code> 列表示数独第 <code>9</code> 列填入了数字 <code>9</code>;</p>\n<p>此即: 第 <code>N(163 ~ 243)</code> 列表示数独第 <code>X(1 ~ 9)</code> 列填入了数字 <code>Y(1 ~ 9)</code>, 其中:</p>\n<pre class=\"line-numbers language-JavaScript\" data-language=\"JavaScript\"><code class=\"language-JavaScript\">&#x2F;&#x2F; N -&gt; N - 162\nX &#x3D; Math.floor((N - 162 - 1) &#x2F; 9) + 1;\nY &#x3D;(N - 162 - 1) % 9 + 1;\nN - 162 &#x3D; (X - 1) * 9 + Y;</code></pre>\n\n<hr>\n<h2 id=\"第-244-4-x-81-324-列\"><a href=\"#第-244-4-x-81-324-列\" class=\"headerlink\" title=\"第 244 ~ 4 x 81(324) 列\"></a>第 <code>244 ~ 4 x 81(324)</code> 列</h2><p>第 <code>244</code> 列表示数独第 <code>1</code> 宫填入了数字 <code>1</code>;</p>\n<p>第 <code>245</code> 列表示数独第 <code>1</code> 宫填入了数字 <code>2</code>;</p>\n<p>第 <code>246</code> 列表示数独第 <code>1</code> 宫填入了数字 <code>3</code>;</p>\n<p>……</p>\n<p>第 <code>252</code> 列表示数独第 <code>1</code> 宫填入了数字 <code>9</code>;</p>\n<p>第 <code>253</code> 列表示数独第 <code>2</code> 宫填入了数字 <code>1</code>;</p>\n<p>第 <code>254</code> 列表示数独第 <code>2</code> 宫填入了数字 <code>2</code>;</p>\n<p>……</p>\n<p>第 <code>261</code> 列表示数独第 <code>2</code> 宫填入了数字 <code>9</code>;</p>\n<p>……</p>\n<p>第 <code>324</code> 列表示数独第 <code>9</code> 宫填入了数字 <code>9</code>;</p>\n<p>此即: 第 <code>N(163 ~ 324)</code> 列表示数独第 <code>X(1 ~ 9)</code> 宫填入了数字 <code>Y(1 ~ 9)</code>, 其中:</p>\n<pre class=\"line-numbers language-JavaScript\" data-language=\"JavaScript\"><code class=\"language-JavaScript\">&#x2F;&#x2F; N -&gt; N - 243\nX &#x3D; Math.floor((N - 243 - 1) &#x2F; 9) + 1;\nY &#x3D;(N - 243 - 1) % 9 + 1;\nN - 243 &#x3D; (X - 1) * 9 + Y;</code></pre>\n\n<hr>\n<h1 id=\"矩阵构建\"><a href=\"#矩阵构建\" class=\"headerlink\" title=\"矩阵构建\"></a>矩阵构建</h1><hr>\n<h2 id=\"有数字的格子\"><a href=\"#有数字的格子\" class=\"headerlink\" title=\"有数字的格子\"></a>有数字的格子</h2><p>以数独第 <code>4</code> 行第 <code>2</code> 列 <code>(4, 2)</code> 处填入数字 <code>7</code> 为例:</p>\n<ol>\n<li><code>(4, 2)</code> 处填入了一个数字;</li>\n<li>第 <code>4</code> 列处填入了一个数字 <code>7</code>;</li>\n<li>第 <code>2</code> 行处填入了一个数字 <code>7</code>;</li>\n<li>第 <code>4</code> 宫处填入了一个数字 <code>7</code>;</li>\n</ol>\n<p>这里, 由坐标 <code>(X, Y)</code> 计算所在宫 <code>N(1 ~ 9)</code> 的公式为:</p>\n<pre class=\"line-numbers language-JavaScript\" data-language=\"JavaScript\"><code class=\"language-JavaScript\">&#x2F;&#x2F; (X, Y, N) 表示 X 行 Y 列位于宫 N\n&#x2F;&#x2F; 第 1 宫第 1 行 (1, 1, 1), (1, 2, 1), (1, 3, 1)\n&#x2F;&#x2F; 第 1 宫第 2 行 (2, 1, 1), (2, 2, 1), (2, 3, 1)\n&#x2F;&#x2F; 第 1 宫第 3 行 (3, 1, 1), (3, 2, 1), (3, 3, 1)\n\n&#x2F;&#x2F; 第 2 宫第 1 行 (1, 4, 2), (1, 5, 2), (1, 6, 2)\n&#x2F;&#x2F; 第 2 宫第 2 行 (2, 4, 2), (2, 5, 2), (2, 6, 2)\n&#x2F;&#x2F; 第 2 宫第 3 行 (3, 4, 2), (3, 5, 2), (3, 6, 2)\n\n\n&#x2F;&#x2F; 第 3 宫第 1 行 (1, 7, 3), (1, 8, 3), (1, 9, 3)\n&#x2F;&#x2F; 第 3 宫第 2 行 (2, 7, 3), (2, 8, 3), (2, 9, 3)\n&#x2F;&#x2F; 第 3 宫第 3 行 (2, 7, 3), (2, 8, 3), (2, 9, 3)\n\n&#x2F;&#x2F; 第 4 宫第 2 行 (4, 1, 4), (4, 2, 4), (4, 3, 4)\n&#x2F;&#x2F; (4, 2) 位于 第 4 宫\n\nN &#x3D; Math.floor((X - 1)) &#x2F; 3 * 3 + Math.floor((Y - 1)) &#x2F; 3 + 1;</code></pre>\n\n<p>对应的矩阵列定义为:</p>\n<ol>\n<li><code>(4, 2)</code> 处填入了一个数字: 对应的矩阵列 <code>N</code> 为 (4 - 1) * 9 + 2 &#x3D; 29;</li>\n<li>第 <code>4</code> 列处填入了一个数字 <code>7</code>: 对应的矩阵列 <code>N</code> 为 (4 - 1) * 9 + 7 + 81 &#x3D; 115;</li>\n<li>第 <code>2</code> 行处填入了一个数字 <code>7</code>: 对应的矩阵列 <code>N</code> 为 (2 - 1) * 9 + 7 + 162 &#x3D; 178;</li>\n<li>第 <code>4</code> 宫处填入了一个数字 <code>7</code>: 对应的矩阵列 <code>N</code> 为 (4 - 1) * 9 + 7 + 243 &#x3D; 277.</li>\n</ol>\n<p>于是, <code>(4, 2)</code> 处填入数字 <code>7</code>, 转换成矩阵的一行: 第 <code>29</code> 列、第 <code>115</code> 列、第 <code>178</code> 列和第 <code>277</code> 列为 <code>1</code>, 其余列为 <code>0</code>.</p>\n<hr>\n<h2 id=\"无数字的格子\"><a href=\"#无数字的格子\" class=\"headerlink\" title=\"无数字的格子\"></a>无数字的格子</h2><p>以数独第 <code>5</code> 行第 <code>8</code> 列 <code>(5, 8)</code> 处未填入数字为例:</p>\n<ol>\n<li><code>(5, 8)</code> 处填入数字 <code>1</code>, 转换成矩阵的一行为: 第 <code>44</code> 列、第 <code>118</code> 列、第 <code>226</code> 列和第 <code>289</code> 列为 <code>1</code>, 其余列为 <code>0</code>.</li>\n<li><code>(5, 8)</code> 处填入数字 <code>2</code>, 转换成矩阵的一行为: 第 <code>44</code> 列、第 <code>119</code> 列、第 <code>227</code> 列和第 <code>290</code> 列为 <code>1</code>, 其余列为 <code>0</code>.</li>\n<li><code>(5, 8)</code> 处填入数字 <code>3</code>, 转换成矩阵的一行为: 第 <code>44</code> 列、第 <code>120</code> 列、第 <code>228</code> 列和第 <code>291</code> 列为 <code>1</code>, 其余列为 <code>0</code>.</li>\n<li><code>(5, 8)</code> 处填入数字 <code>4</code>, 转换成矩阵的一行为: 第 <code>44</code> 列、第 <code>121</code> 列、第 <code>229</code> 列和第 <code>292</code> 列为 <code>1</code>, 其余列为 <code>0</code>.</li>\n<li><code>(5, 8)</code> 处填入数字 <code>5</code>, 转换成矩阵的一行为: 第 <code>44</code> 列、第 <code>122</code> 列、第 <code>230</code> 列和第 <code>293</code> 列为 <code>1</code>, 其余列为 <code>0</code>.</li>\n<li><code>(5, 8)</code> 处填入数字 <code>6</code>, 转换成矩阵的一行为: 第 <code>44</code> 列、第 <code>123</code> 列、第 <code>231</code> 列和第 <code>294</code> 列为 <code>1</code>, 其余列为 <code>0</code>.</li>\n<li><code>(5, 8)</code> 处填入数字 <code>7</code>, 转换成矩阵的一行为: 第 <code>44</code> 列、第 <code>124</code> 列、第 <code>232</code> 列和第 <code>295</code> 列为 <code>1</code>, 其余列为 <code>0</code>.</li>\n<li><code>(5, 8)</code> 处填入数字 <code>8</code>, 转换成矩阵的一行为: 第 <code>44</code> 列、第 <code>125</code> 列、第 <code>233</code> 列和第 <code>296</code> 列为 <code>1</code>, 其余列为 <code>0</code>.</li>\n<li><code>(5, 8)</code> 处填入数字 <code>9</code>, 转换成矩阵的一行为: 第 <code>44</code> 列、第 <code>126</code> 列、第 <code>234</code> 列和第 <code>297</code> 列为 <code>1</code>, 其余列为 <code>0</code>.</li>\n</ol>\n<p>将以上 <code>9</code> 行插入到矩阵中, 可以发现矩阵第 <code>44</code> 列全为 <code>1</code>, 其余列则不可能全为 <code>1</code>, 因此这 <code>9</code> 行必选中其中一行, 由精确覆盖问题的定义可知: 该选中的行即为最后解的其中一行, 也即: 数独 <code>(5, 8)</code> 处必填入了 <code>1 ~ 9</code> 其中一个数字。</p>\n<hr>\n<h2 id=\"数独转换为矩阵\"><a href=\"#数独转换为矩阵\" class=\"headerlink\" title=\"数独转换为矩阵\"></a>数独转换为矩阵</h2><p>对于数独中每一个格子, 不论其是否有数字, 均可由上述两条规则转换为矩阵中的行: <code>1 ~ 9</code> 行。</p>\n<hr>\n<h1 id=\"精确覆盖问题的求解\"><a href=\"#精确覆盖问题的求解\" class=\"headerlink\" title=\"精确覆盖问题的求解\"></a>精确覆盖问题的求解</h1>","text":" 精确覆盖问题Exact cover wiki Dancing Links OI Wiki A Sudoku Solver in Java implementing Knuth’s Dancing Links Algorithm 数独规则回顾 每个格子只能填入 1 ~ 9 中的一...","link":"","photos":[],"count_time":{"symbolsCount":"4.1k","symbolsTime":"4 mins."},"categories":[],"tags":[],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%B2%BE%E7%A1%AE%E8%A6%86%E7%9B%96%E9%97%AE%E9%A2%98\"><span class=\"toc-text\">精确覆盖问题</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%95%B0%E7%8B%AC%E8%A7%84%E5%88%99%E5%9B%9E%E9%A1%BE\"><span class=\"toc-text\">数独规则回顾</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%9F%A9%E9%98%B5%E5%88%97%E5%AE%9A%E4%B9%89-%E7%BA%A6%E6%9D%9F%E6%9D%A1%E4%BB%B6\"><span class=\"toc-text\">矩阵列定义 (约束条件)</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%AC%AC-1-81-%E5%88%97\"><span class=\"toc-text\">第 1 ~ 81 列</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%AC%AC-82-2-x-81-162-%E5%88%97\"><span class=\"toc-text\">第 82 ~ 2 x 81(162) 列</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%AC%AC-163-3-x-81-243-%E5%88%97\"><span class=\"toc-text\">第 163 ~ 3 x 81(243) 列</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%AC%AC-244-4-x-81-324-%E5%88%97\"><span class=\"toc-text\">第 244 ~ 4 x 81(324) 列</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%9F%A9%E9%98%B5%E6%9E%84%E5%BB%BA\"><span class=\"toc-text\">矩阵构建</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9C%89%E6%95%B0%E5%AD%97%E7%9A%84%E6%A0%BC%E5%AD%90\"><span class=\"toc-text\">有数字的格子</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%97%A0%E6%95%B0%E5%AD%97%E7%9A%84%E6%A0%BC%E5%AD%90\"><span class=\"toc-text\">无数字的格子</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%95%B0%E7%8B%AC%E8%BD%AC%E6%8D%A2%E4%B8%BA%E7%9F%A9%E9%98%B5\"><span class=\"toc-text\">数独转换为矩阵</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%B2%BE%E7%A1%AE%E8%A6%86%E7%9B%96%E9%97%AE%E9%A2%98%E7%9A%84%E6%B1%82%E8%A7%A3\"><span class=\"toc-text\">精确覆盖问题的求解</span></a></li></ol>","author":{"name":"paranoia","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"https://321paranoiawhy.github.io","description":"生命不息, 笔耕不辍","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"深入解析位运算性质","uid":"d59a8ff0fbd74225a125fea75d954925","slug":"深入解析位运算性质","date":"2022-04-12T09:29:31.000Z","updated":"2022-04-17T16:37:42.363Z","comments":true,"path":"api/articles/深入解析位运算性质.json","keywords":null,"cover":[],"text":" 二进制回顾十进制整数转换为二进制十进制整数转换为二进制可采用 除2取余, 逆序排列 (短除法) ： 十进制小数转换为二进制十进制整数转换为二进制可采用 乘2取整, 顺序排列 ： 以 0.625 为例: 因此, 十进制 0.625 的二进制表示为: 0.101 。 为何位运算尽管...","link":"","photos":[],"count_time":{"symbolsCount":"4.9k","symbolsTime":"4 mins."},"categories":[],"tags":[{"name":"位运算","slug":"位运算","count":1,"path":"api/tags/位运算.json"},{"name":"深入解析","slug":"深入解析","count":1,"path":"api/tags/深入解析.json"}],"author":{"name":"paranoia","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"https://321paranoiawhy.github.io","description":"生命不息, 笔耕不辍","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"LeetCode-剑指Offer-15-二进制中1的个数","uid":"6476889812499529d67e180547b73424","slug":"LeetCode-剑指Offer-15-二进制中1的个数","date":"2022-04-11T13:15:22.000Z","updated":"2022-04-12T13:54:57.734Z","comments":true,"path":"api/articles/LeetCode-剑指Offer-15-二进制中1的个数.json","keywords":null,"cover":null,"text":" 题目描述本题同 LeetCode-191-位1的个数。 编写一个函数，输入是一个无符号整数（以二进制串的形式），返回其二进制表达式中数字位数为 ‘1’ 的个数（也被称为 Hamming weight )。 示例1 输入：n &#x3D; 11 (控制台输入 0000000000...","link":"","photos":[],"count_time":{"symbolsCount":"2.3k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"LeetCode","slug":"LeetCode","count":3,"path":"api/tags/LeetCode.json"},{"name":"剑指Offer","slug":"剑指Offer","count":1,"path":"api/tags/剑指Offer.json"},{"name":"二进制","slug":"二进制","count":1,"path":"api/tags/二进制.json"}],"author":{"name":"paranoia","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"https://321paranoiawhy.github.io","description":"生命不息, 笔耕不辍","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}