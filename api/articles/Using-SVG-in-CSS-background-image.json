{"title":"Using-SVG-in-CSS-background-image","uid":"cd6e98e4ee4767f67b55e7c0d57b6257","slug":"Using-SVG-in-CSS-background-image","date":"2022-08-20T13:14:31.000Z","updated":"2022-08-20T15:07:18.936Z","comments":true,"path":"api/articles/Using-SVG-in-CSS-background-image.json","keywords":null,"cover":null,"content":"<h1 id=\"background-image\"><a href=\"#background-image\" class=\"headerlink\" title=\"background-image\"></a><code>background-image</code></h1><p><code>background-image</code> 的值可以是 <code>none</code> 或者 一个合法的 <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/image\"><code>&lt;image&gt;</code></a> 值。</p>\n<pre class=\"line-numbers language-CSS\" data-language=\"CSS\"><code class=\"language-CSS\">&#x2F;* 1. network image *&#x2F;\ndiv &#123;\n    background-image: url(http:&#x2F;&#x2F;example.com&#x2F;background.jpg);\n&#125;\n\n&#x2F;* local image *&#x2F;\ndiv &#123;\n    background-image: url(background.jpg);\n&#125;\n\n&#x2F;* DATA URI *&#x2F;\ndiv &#123;\n   background-image: url( &quot;data:image&#x2F;svg+xml,%3Csvg xmlns&#x3D;&#39;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&#39; viewBox&#x3D;&#39;0 0 600 200&#39;%3E%3Cpath d&#x3D;&#39;M10 10h123v123H10z&#39;&#x2F;%3E%3C&#x2F;svg%3E&quot; );\n&#125;</code></pre>\n\n<h1 id=\"SVG-转-Data-URI\"><a href=\"#SVG-转-Data-URI\" class=\"headerlink\" title=\"SVG 转 Data URI\"></a><code>SVG</code> 转 <code>Data URI</code></h1><h2 id=\"JavaScript-实现\"><a href=\"#JavaScript-实现\" class=\"headerlink\" title=\"JavaScript 实现\"></a><code>JavaScript</code> 实现</h2><pre class=\"line-numbers language-JavaScript\" data-language=\"JavaScript\"><code class=\"language-JavaScript\">const svgSourceCode &#x3D; &#96;&lt;svg xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&quot; width&#x3D;&quot;48&quot; height&#x3D;&quot;31&quot; viewBox&#x3D;&quot;0 0 48 31&quot; fill&#x3D;&quot;none&quot;&gt;\n&lt;circle cx&#x3D;&quot;39&quot; cy&#x3D;&quot;23&quot; r&#x3D;&quot;16&quot; fill&#x3D;&quot;#6501E5&quot;&#x2F;&gt;\n&lt;circle opacity&#x3D;&quot;0.8&quot; cx&#x3D;&quot;10&quot; cy&#x3D;&quot;30&quot; r&#x3D;&quot;10&quot; fill&#x3D;&quot;#6501E5&quot;&#x2F;&gt;\n&lt;circle opacity&#x3D;&quot;0.6&quot; cx&#x3D;&quot;18&quot; cy&#x3D;&quot;6&quot; r&#x3D;&quot;6&quot; fill&#x3D;&quot;#6501E5&quot;&#x2F;&gt;\n&lt;&#x2F;svg&gt;&#96;;\nconst svg2Base64 &#x3D; btoa(svgSourceCode);\nconst svg2DataURI &#x3D; &quot;url(&#39;data:image&#x2F;svg+xml;base64,&quot; + svg2Base64 + &quot;&#39;)&quot;;\n&#x2F;&#x2F; &quot;url(&#39;data:image&#x2F;svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSIzMSIgdmlld0JveD0iMCAwIDQ4IDMxIiBmaWxsPSJub25lIj4KPGNpcmNsZSBjeD0iMzkiIGN5PSIyMyIgcj0iMTYiIGZpbGw9IiM2NTAxRTUiLz4KPGNpcmNsZSBvcGFjaXR5PSIwLjgiIGN4PSIxMCIgY3k9IjMwIiByPSIxMCIgZmlsbD0iIzY1MDFFNSIvPgo8Y2lyY2xlIG9wYWNpdHk9IjAuNiIgY3g9IjE4IiBjeT0iNiIgcj0iNiIgZmlsbD0iIzY1MDFFNSIvPgo8L3N2Zz4&#x3D;&#39;)&quot;\ndocument.querySelector(&#39;div&#39;).backgroundImage &#x3D; svg2DataURI;</code></pre>\n\n<p>浏览器控制台下还可这样操作:</p>\n<pre class=\"line-numbers language-JavaScript\" data-language=\"JavaScript\"><code class=\"language-JavaScript\">const svgSourceCode &#x3D; &#96;&lt;svg xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg&quot; width&#x3D;&quot;48&quot; height&#x3D;&quot;31&quot; viewBox&#x3D;&quot;0 0 48 31&quot; fill&#x3D;&quot;none&quot;&gt;\n&lt;circle cx&#x3D;&quot;39&quot; cy&#x3D;&quot;23&quot; r&#x3D;&quot;16&quot; fill&#x3D;&quot;#6501E5&quot;&#x2F;&gt;\n&lt;circle opacity&#x3D;&quot;0.8&quot; cx&#x3D;&quot;10&quot; cy&#x3D;&quot;30&quot; r&#x3D;&quot;10&quot; fill&#x3D;&quot;#6501E5&quot;&#x2F;&gt;\n&lt;circle opacity&#x3D;&quot;0.6&quot; cx&#x3D;&quot;18&quot; cy&#x3D;&quot;6&quot; r&#x3D;&quot;6&quot; fill&#x3D;&quot;#6501E5&quot;&#x2F;&gt;\n&lt;&#x2F;svg&gt;&#96;;\n&#x2F;&#x2F; url-escape: # -&gt; %23\ncopy(&quot;data:image&#x2F;svg+xml,&quot; + encodeURI(svgSourceCode).replace(&#x2F;#&#x2F;g, &quot;%23&quot;));\n&#x2F;&#x2F; data:image&#x2F;svg+xml,%3Csvg%20xmlns&#x3D;%22http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg%22%20width&#x3D;%2248%22%20height&#x3D;%2231%22%20viewBox&#x3D;%220%200%2048%2031%22%20fill&#x3D;%22none%22%3E%0A%3Ccircle%20cx&#x3D;%2239%22%20cy&#x3D;%2223%22%20r&#x3D;%2216%22%20fill&#x3D;%22%236501E5%22&#x2F;%3E%0A%3Ccircle%20opacity&#x3D;%220.8%22%20cx&#x3D;%2210%22%20cy&#x3D;%2230%22%20r&#x3D;%2210%22%20fill&#x3D;%22%236501E5%22&#x2F;%3E%0A%3Ccircle%20opacity&#x3D;%220.6%22%20cx&#x3D;%2218%22%20cy&#x3D;%226%22%20r&#x3D;%226%22%20fill&#x3D;%22%236501E5%22&#x2F;%3E%0A%3C&#x2F;svg%3E\n\n&#x2F;&#x2F; 最后将上面所复制的字符串传入 CSS 的 url() 函数\n&#x2F;&#x2F; url(&#39;data:image&#x2F;svg+xml,%3Csvg%20xmlns&#x3D;%22http:&#x2F;&#x2F;www.w3.org&#x2F;2000&#x2F;svg%22%20width&#x3D;%2248%22%20height&#x3D;%2231%22%20viewBox&#x3D;%220%200%2048%2031%22%20fill&#x3D;%22none%22%3E%0A%3Ccircle%20cx&#x3D;%2239%22%20cy&#x3D;%2223%22%20r&#x3D;%2216%22%20fill&#x3D;%22%236501E5%22&#x2F;%3E%0A%3Ccircle%20opacity&#x3D;%220.8%22%20cx&#x3D;%2210%22%20cy&#x3D;%2230%22%20r&#x3D;%2210%22%20fill&#x3D;%22%236501E5%22&#x2F;%3E%0A%3Ccircle%20opacity&#x3D;%220.6%22%20cx&#x3D;%2218%22%20cy&#x3D;%226%22%20r&#x3D;%226%22%20fill&#x3D;%22%236501E5%22&#x2F;%3E%0A%3C&#x2F;svg%3E&#39;)\n\n&#x2F;&#x2F; Note that only browser has copy function\n&#x2F;&#x2F; in Node.js, there is no copy function\ncopy &#x3D;&#x3D;&#x3D; window.copy; &#x2F;&#x2F; true\ncopy &#x3D;&#x3D;&#x3D; this.copy; &#x2F;&#x2F; true\ncopy &#x3D;&#x3D;&#x3D; globalThis.copy; &#x2F;&#x2F; true</code></pre>\n\n<ul>\n<li><a href=\"https://codepen.io/paraoiawhy/pen/rNdPKMm\">Codepen Live Demo</a></li>\n<li><a href=\"https://stackoverflow.com/questions/10772066/escaping-special-character-in-a-url\">escaping special character in a url - StackOverflow</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6533561/urlencode-the-asterisk-star-character\">urlencode-the-asterisk-star-character</a></li>\n<li><a href=\"https://docs.microfocus.com/OMi/10.62/Content/OMi/ExtGuide/ExtApps/URL_encoding.htm\">URL escape codes</a></li>\n<li><a href=\"https://www.ibm.com/docs/en/planning-analytics/2.0.0?topic=api-using-url-escape-characters-url\">Using URL escape characters with the URL API -IBM</a></li>\n<li><a href=\"https://www.december.com/html/spec/esccodes.html\">URL Escape Codes</a></li>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc1738.txt\">RFC1738</a></li>\n<li><a href=\"https://www.rfc-editor.org/rfc/rfc3986#section-2.2\">RFC3986 Page-12 2.2 Reversed Characters</a></li>\n</ul>\n<h1 id=\"在线工具网站\"><a href=\"#在线工具网站\" class=\"headerlink\" title=\"在线工具网站\"></a>在线工具网站</h1><ul>\n<li><a href=\"https://www.svgbackgrounds.com/tools/svg-to-css/\">SVG to CSS converter</a></li>\n<li><a href=\"https://websemantics.uk/tools/image-to-data-uri-converter/\">Image to data-URI converter</a></li>\n<li><a href=\"https://dopiaza.org/tools/datauri/index.php\">data: URI Generator</a></li>\n<li><a href=\"https://codepen.io/jakob-e/pen/doMoML\">Encode SVG SCSS - Codepen</a></li>\n<li><a href=\"https://yoksel.github.io/url-encoder/\">URL-encoder for SVG</a></li>\n<li><a href=\"https://github.com/svg/svgo\">Node.js tool for optimizing SVG files</a></li>\n<li><a href=\"https://www.utilities-online.info/urlencode\">url escape&#x2F;unescape</a></li>\n</ul>\n<h1 id=\"Reference\"><a href=\"#Reference\" class=\"headerlink\" title=\"Reference\"></a>Reference</h1><ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/background-image\">background-image - MDN</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URLs\">Data URLs - MDN</a></li>\n<li><a href=\"https://www.svgbackgrounds.com/how-to-add-svgs-with-css-background-image/\">How to add SVGs with CSS (background-image)</a></li>\n<li><a href=\"https://css-tricks.com/data-uris/#top-of-site\">Data URIs - CSSTricks</a></li>\n<li><a href=\"https://humanwhocodes.com/blog/2009/10/27/data-uris-explained/\">Data URIs explained - Nicholas C. Zakas</a></li>\n<li><a href=\"https://stackoverflow.com/questions/10768451/inline-svg-in-css\">Inline Svg in CSS</a></li>\n<li><a href=\"https://dbushell.com/2013/02/04/a-primer-to-front-end-svg-hacking/\">A Primer to Front-end SVG Hacking</a></li>\n</ul>\n<h1 id=\"Read-Also\"><a href=\"#Read-Also\" class=\"headerlink\" title=\"Read Also\"></a>Read Also</h1><ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/SVG_and_CSS\">SVG and CSS</a></li>\n</ul>\n<pre class=\"line-numbers language-JavaScript\" data-language=\"JavaScript\"><code class=\"language-JavaScript\">&#39; $&amp;&#96;:&lt;&gt;[]&#123;&#125;&quot;+#%@&#x2F;;&#x3D;?\\\\^|~\\&#39;,&#39;.replace(&#x2F;[ &quot;-&#39;+,&#x2F;:-@[-^&#96;&#123;-~]&#x2F;g, &#39;&#39;);</code></pre>\n","feature":true,"text":"background-imagebackground-image 的值可以是 none 或者 一个合法的 &lt;image&gt; 值。 &#x2F;* 1. network image *&#x2F; div &#123; background-image: url(http...","link":"","photos":[],"count_time":{"symbolsCount":"5.1k","symbolsTime":"5 mins."},"categories":[],"tags":[{"name":"CSS","slug":"CSS","count":6,"path":"api/tags/CSS.json"},{"name":"SVG","slug":"SVG","count":1,"path":"api/tags/SVG.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#background-image\"><span class=\"toc-text\">background-image</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#SVG-%E8%BD%AC-Data-URI\"><span class=\"toc-text\">SVG 转 Data URI</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#JavaScript-%E5%AE%9E%E7%8E%B0\"><span class=\"toc-text\">JavaScript 实现</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E5%9C%A8%E7%BA%BF%E5%B7%A5%E5%85%B7%E7%BD%91%E7%AB%99\"><span class=\"toc-text\">在线工具网站</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Reference\"><span class=\"toc-text\">Reference</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Read-Also\"><span class=\"toc-text\">Read Also</span></a></li></ol>","author":{"name":"paranoia","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"https://321paranoiawhy.github.io","description":"生命不息, 笔耕不辍","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Web-Components-Part-2","uid":"19c59505211190a413a77f90e46a1c80","slug":"Web-Components-Part-2","date":"2022-08-21T04:32:39.000Z","updated":"2022-08-22T01:44:16.313Z","comments":true,"path":"api/articles/Web-Components-Part-2.json","keywords":null,"cover":null,"text":" shadow DOM 内设置内部元素样式Reference: How to create a style tag using JavaScript? - GeeksforGeeks Web Components中引入外部CSS的3种方法 - 张鑫旭 Shadow DOM sty...","link":"","photos":[],"count_time":{"symbolsCount":"11k","symbolsTime":"10 mins."},"categories":[],"tags":[{"name":"Web Components","slug":"Web-Components","count":2,"path":"api/tags/Web-Components.json"},{"name":"Part 2","slug":"Part-2","count":1,"path":"api/tags/Part-2.json"}],"author":{"name":"paranoia","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"https://321paranoiawhy.github.io","description":"生命不息, 笔耕不辍","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"设计灵感收集","uid":"3898482435b90639c29f215ec9492dde","slug":"设计灵感收集","date":"2022-08-19T08:45:33.000Z","updated":"2022-08-19T08:47:11.489Z","comments":true,"path":"api/articles/设计灵感收集.json","keywords":null,"cover":null,"text":"Medium 双击选中文本后弹出提示: 编辑和分享至推特 ","link":"","photos":[],"count_time":{"symbolsCount":30,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"设计","slug":"设计","count":1,"path":"api/tags/设计.json"},{"name":"灵感","slug":"灵感","count":1,"path":"api/tags/灵感.json"}],"author":{"name":"paranoia","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"https://321paranoiawhy.github.io","description":"生命不息, 笔耕不辍","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}